/* Rackarr - Global Styles and CSS Custom Properties */

/* Import Design Token System */
@import './lib/styles/tokens.css';

/* Reset and base styles */
*,
*::before,
*::after {
	box-sizing: border-box;
	margin: 0;
	padding: 0;
}

html,
body {
	height: 100%;
	font-family: var(--font-family);
	background: var(--colour-bg);
	color: var(--colour-text);
	line-height: 1.5;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

#app {
	height: 100%;
}

/* Focus styles for accessibility */
:focus-visible {
	outline: 2px solid var(--colour-focus-ring);
	outline-offset: var(--space-1);
}

/* Button reset */
button {
	font: inherit;
	color: inherit;
	background: none;
	border: none;
	cursor: pointer;
}

button:disabled {
	cursor: not-allowed;
	opacity: 0.5;
}

/* Input reset */
input,
select,
textarea {
	font: inherit;
	color: inherit;
}

/* Scrollbar styling */
::-webkit-scrollbar {
	width: var(--space-2);
	height: var(--space-2);
}

::-webkit-scrollbar-track {
	background: var(--colour-surface);
}

::-webkit-scrollbar-thumb {
	background: var(--colour-border);
	border-radius: var(--radius-sm);
}

::-webkit-scrollbar-thumb:hover {
	background: var(--colour-text-muted);
}

/* Form Input Styles */
.input-field {
	width: 100%;
	padding: var(--space-2) var(--space-3);
	border: 1px solid var(--colour-border);
	border-radius: var(--radius-md);
	background-color: var(--colour-surface);
	color: var(--colour-text);
	font-size: var(--font-size-base);
	transition:
		border-color var(--duration-fast) var(--ease-out),
		box-shadow var(--duration-fast) var(--ease-out);
}

/* Hover state */
.input-field:hover:not(:disabled):not(:focus) {
	border-color: var(--colour-border-hover);
}

/* Focus state */
.input-field:focus {
	outline: none;
	border-color: var(--colour-border-focus);
	box-shadow: 0 0 0 3px color-mix(in srgb, var(--colour-selection) 25%, transparent);
}

/* Invalid state */
.input-field:invalid,
.input-field.error {
	border-color: var(--colour-error);
}

.input-field:invalid:focus,
.input-field.error:focus {
	box-shadow: 0 0 0 3px color-mix(in srgb, var(--colour-error) 25%, transparent);
}

/* Disabled state */
.input-field:disabled {
	opacity: 0.5;
	cursor: not-allowed;
	background-color: var(--colour-surface-muted, rgba(255, 255, 255, 0.02));
}

/* Error message */
.input-error {
	color: var(--colour-error);
	font-size: var(--font-size-xs);
	margin-top: var(--space-1);
}

/* Utility classes */
.sr-only {
	position: absolute;
	width: 1px;
	height: 1px;
	padding: 0;
	margin: -1px;
	overflow: hidden;
	clip: rect(0, 0, 0, 0);
	white-space: nowrap;
	border: 0;
}

/* Contrast-safe text utilities (WCAG AA compliant) */
.text-high-contrast {
	color: var(--colour-text); /* 18:1+ on bg, meets 4.5:1 AA */
}

.text-medium-contrast {
	color: var(--colour-text-muted); /* 7:1+ on bg, meets 4.5:1 AA */
}

/* Use for decorative/non-essential text only */
/* Note: WCAG exempts disabled/inactive UI elements from contrast requirements */
.text-low-contrast {
	color: var(--colour-text-disabled);
}
